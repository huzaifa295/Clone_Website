(function(factory){"use strict";if(typeof define==='function'&&define.amd){define(['jquery'],factory);}
else if(typeof exports=="object"&&typeof module=="object"){module.exports=factory(require('jquery'));}
else{factory(jQuery);}})(function($,undefined){"use strict";$.fn.percircle=function(options){var defaultOptions={animate:true};if(!options)options={};$.extend(options,defaultOptions);var rotationMultiplier=3.6;return this.each(function(){var percircle=$(this);if(!percircle.hasClass('percircle'))percircle.addClass('percircle');if(typeof(percircle.attr('data-animate'))!=='undefined')options.animate=percircle.attr('data-animate')=='true';if(options.animate)percircle.addClass('animate');var percent=percircle.attr('data-percent')||options.percent||0;var perclock=percircle.attr('data-perclock')||options.perclock||0;if(!perclock){if(percent>50)percircle.addClass('gt50');var text=percircle.attr('data-text')||options.text||percent+'%';$('<span>'+text+'</span>').appendTo(percircle);$('<div class="slice"><div class="bar"></div><div class="fill"></div></div>').appendTo(percircle);if(percent>50)
$('.bar',percircle).css({'-webkit-transform':'rotate(180deg)','-moz-transform':'rotate(180deg)','-ms-transform':'rotate(180deg)','-o-transform':'rotate(180deg)','transform':'rotate(180deg)'});var rotationDegrees=rotationMultiplier*percent;setTimeout(function(){$('.bar',percircle).css({'-webkit-transform':'rotate('+rotationDegrees+'deg)','-moz-transform':'rotate('+rotationDegrees+'deg)','-ms-transform':'rotate('+rotationDegrees+'deg)','-o-transform':'rotate('+rotationDegrees+'deg)','transform':'rotate('+rotationDegrees+'deg)'});},0);}else{if(!percircle.hasClass('perclock'))percircle.addClass('perclock');setInterval(function(){var d=new Date();var text=getPadded(d.getHours())+":"+getPadded(d.getMinutes())+":"+getPadded(d.getSeconds());percircle.html('<span>'+text+'</span>');$('<div class="slice"><div class="bar"></div><div class="fill"></div></div>').appendTo(percircle);var seconds=d.getSeconds();if(seconds===0)percircle.removeClass('gt50');if(seconds>30){percircle.addClass('gt50');$('.bar',percircle).css({'-webkit-transform':'rotate(180deg)','-moz-transform':'rotate(180deg)','-ms-transform':'rotate(180deg)','-o-transform':'rotate(180deg)','transform':'rotate(180deg)'});}
var rotationDegrees=6*seconds;$('.bar',percircle).css({'-webkit-transform':'rotate('+rotationDegrees+'deg)','-moz-transform':'rotate('+rotationDegrees+'deg)','-ms-transform':'rotate('+rotationDegrees+'deg)','-o-transform':'rotate('+rotationDegrees+'deg)','transform':'rotate('+rotationDegrees+'deg)'});},1000);}
var getPadded=function(val){return val<10?('0'+val):val;};});};});